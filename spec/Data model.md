# Eureka! Clinical Electronic Health Record Data Model
## Overview
This document describes the electronic health record data model that this project specifies for Eureka! Clinical. The starting point for this document was the data model of a national cohort discovery network called NIH/NCATS Accrual to Clinical Trials (ACT). Emory received a CTSA supplemental award to become a founding member of this network, which initially will include 13 CTSA programs’ affiliated health systems. Using an i2b2 extension called SHRINE (Shared Health Research Information NEtwork), Emory investigators will be able to specify inclusion and exclusion criteria using their web browser, and within minutes get patient counts from each participating health system. In the Atlanta area, Morehouse School of Medicine and Emory are participating.

The data model below describes the main subject areas and what fields are included. While the initial release this model aims to cover a wide variety of potential cohort discovery queries, some of the content, in particular some of the lab tests, are less common but are required for three use cases that are guiding the technical implementation:
* Clinical trial to evaluate safety and efficacy of a novel biologic in early rheumatoid arthritis inadequate responders to methotrexate. 
* Multiple Sclerosis.
* Clinical trial of new anti-fibrosis medication for children with biliary atresia who have undergone hepatic portoenterostomy and have evidence of portal hypertension but have not yet had liver transplant.

## Missing or Unknown data values
The data model uses a single null value, NI=No Information, to represent missing or unknown values. NI means: 
* The data field is not present in the source system, or
* The data field is present in the source system, but the source value is null or blank, or
* The data field is present in the source system, but the source value explicitly denotes an unknown value, or
* The data field is present in the source system, but the source value cannot be mapped to the data model.

## Subject areas
### Demographics
| Field name | Data type | Predefined value sets and descriptive text for categorical fields | Definition/comments |
|------------|-----------|-------------------------------------------------------------------|---------------------|
| BIRTH_DATE | Date-time field | YYYY-MM-DD HH:MM:SS | Date and time of birth. Current age (at time of query) is calculated from this. If times don’t exist in the source data, set HH:MM:SS to 00:00:00. |
| SEX | TEXT(2) | A=Ambiguous<br/>F=Female<br/>M=Male<br/>O=Other<br/>NI=No information | Administrative sex. Assign ambiguous for transgender/hermaphrodite. For individuals undergoing gender re-assignment, use the Other category. |
| HISPANIC | TEXT(2) | Y=Yes<br/>N=No<br/>NI=No information | A person of Cuban, Mexican, Puerto Rican, South or Central American, or other Spanish culture or origin, regardless of race.<br/><br/>Uses "two question" approach. |
| RACE | TEXT(2) | 1=American Indian or Alaska Native<br/>2=Asian<br/>3=Black or African American<br/>4=Native Hawaiian or Other Pacific Islander<br/>5=White<br/>6=Multiple race<br/>NI=No information | Uses one or more race values per patient.<br/><br/>American Indian or Alaska Native – A person having origins in any of the original peoples of North and South America (including Central America), and who maintains tribal affiliation or community attachment.<br/>Asian – A person having origins in any of the original peoples of the Far East, Southeast Asia, or the Indian subcontinent including, for example, Cambodia, China, India, Japan, Korea, Malaysia, Pakistan, the Philippine Islands, Thailand, and Vietnam.<br/>Black or African American – A person having origins in any of the black racial groups of Africa.<br/>Native Hawaiian or Other Pacific Islander – A person having origins in any of the original peoples of Hawaii, Guam, Samoa, or other Pacific Islands.<br/>White – A person having origins in any of the original peoples of Europe, the Middle East, or North Africa.<br/>Multiple - A person identifying themselves as more than one race.<br/><br/>Uses the "two question" approach.
| VITAL_STATUS | TEXT(1) | 1=Known deceased | Note that NI is not allowed. |
| DEATH_DATE | Date-time field | YYYY-MM-DD HH:MM:SS | Date and time of death. Death date is not PHI. If times don’t exist in the source data, set HH:MM:SS to 00:00:00. |

### Diagnoses
| Field name | Data type | Predefined value sets and descriptive text for categorical fields | Definition/comments |
|------------|-----------|-------------------------------------------------------------------|---------------------|
| DIAGNOSIS_CODE | | Diagnosis code. See below for content. |
| DIAGNOSIS_CODING_SYSTEM | ICD-9-CM<br/>ICD-10-CM | Diagnosis coding system. |
| DIAGNOSIS_CODING_SYSTEM_VERSION | Example:<br/><br/>ICD-9-CM Version 32 | Diagnosis coding system version. |
| DIAGNOSIS_DATE | Date-time field | YYYY-MM-DD HH:MM:SS | Diagnosis date and time. If times don’t exist in the source data, set HH:MM:SS to 00:00:00. |
| DIAGNOSIS_SOURCE | TEXT(2) | AD=Admitting<br/>DI=Discharge<br/>FI=Final<br/>IN=Interim<br/>NI=No information | Classification of diagnosis source. We include these categories to allow some flexibility in implementation. The context is to capture available diagnoses recorded during a specific encounter. It is not necessary to populate interim diagnoses unless readily available.<br/><br/>Ambulatory encounters would generally be expected to have a source of “Final.” |
| DIAGNOSIS_PRIORITY | TEXT(2) | P=Primary<br/>S=Secondary<br/>NI=No information | Principal discharge diagnosis flag |

#### ICD-9-CM diagnosis code hierarchy (we will use the standard ICD-9 hierarchy as shown in part below; all ICD-9 codes will be available for query)
* Circulatory system …
* Conditions in the perinatal period …
* Congenital anomalies …
* Digestive system …
* Endocrine disorders …
* Events of pregnancy …
* Genitourinary system …
* Hematologic diseases …
* Infectious and parasitic diseases …
* Injury and poisoning …
* Mental disorders …
* Metabolic and immune diseases …
* Musculoskeletal and connective tissue diseases …
* Neoplasms …
* Neurologic disorders …
* Nutritional deficiencies …
* Respiratory system diseases …
* Skin diseases …
* Symptoms, signs, and ill-defined conditions …
* E-codes …
* V-codes …

#### ICD-10-CM diagnosis code hierarchy (we will use the standard ICD-10 hierarchy as shown in part below; all ICD-10 codes will be available for query)
TODO

### Procedures
| Field name | Data type | Predefined value sets and descriptive text for categorical fields | Definition/comments |
|------------|-----------|-------------------------------------------------------------------|---------------------|
| PROCEDURE_CODE | | | Procedure code. See below for content. |
| PROCEDURE_CODING_SYSTEM | | ICD-9-CM<br/>ICD-10-PCS<br/>CPT-4 (i.e., HCPCS Level 1) | Procedure coding system. |
| PROCEDURE_CODING_SYSTEM_VERSION | Example: ICD-9-CM Version 31 | Procedure coding system version. |
| PROCEDURE_DATE | Date-time field | YYYY-MM-DD HH:MM:SS | Procedure date and time. If times don’t exist in the source data, set HH:MM:SS to 00:00:00. |

#### ICD-9-CM (Inpatient; we will use the standard ICD-9 hierarchy; all ICD-9 codes will be available)
* Diagnostic and nonsurgical procedures …
* Obstetrical procedures …
* Operations on cardiovascular system …
* Operations on digestive system …
* Operations on ear …
* Operations on endocrine system …
* Operations on eye …
* Operations on female genital system …
* Operations on hemic and lymphatic system
* Operations on integument …
* Operations on male genital system …
* Operations on musculoskeletal system …
* Operations on nervous system …
* Operations on nose, mouth and pharynx …
* Operations on respiratory system …
* Operations on urinary system …
* Procedures and interventions, NEC …

#### ICD-10-PCS (Inpatient; we will use the standard ICD-10 hierarchy; all ICD-10 codes will be available)
TODO

#### (Future) CPT-4 (Clinic; only install if your institution has a license)
* Anesthesia Procedures …
* Emerging Technology, Services & Procedure Codes …
* Evaluation and Management Procedures …
* Medicine Services and Procedures …
* Pathology and Laboratory Tests …
* Radiology Procedures …
* Surgical Procedures …
* Tracking Codes for Performance Management …

v  CPT-4 (Clinic; all CPT codes will be available for query internally to Emory for Emory data; CPT codes will not be available from other institutions due to American Medical Association licensing)

Anesthesia Procedures …
Emerging Technology, Services & Procedure Codes …
Evaluation and Management Procedures …
Medicine Services and Procedures …
Pathology and Laboratory Tests …
Radiology Procedures …
Surgical Procedures …
Tracking Codes for Performance Management …

### Visits
| Field name | Data type | Predefined value sets and descriptive text for categorical fields | Definition/comments |
|------------|-----------|-------------------------------------------------------------------|---------------------|
| ADMIT_DATE | Date-time field | YYYY-MM-DD HH:MM:SS | Date and time of visit or admission. An Age at visit field will be calculated from this. If times don’t exist in the source data, set HH:MM:SS to 00:00:00. |
| DISCHARGE_DATE | Date-time field | YYYY-MM-DD HH:MM:SS | Date and time of discharge. A Length of stay field will be calculated from this. If times don’t exist in the source data, set HH:MM:SS to 00:00:00. |
| VISIT_TYPE | TEXT(2) | IP=Inpatient Hospital Stay<br/>AV=Ambulatory Visit<br/>ED=Emergency Department<br/>OA=Other Ambulatory Visit<br/>NI=No information | Visit type. |

### Medication orders
| Field name | Data type | Predefined value sets and descriptive text for categorical fields | Definition/comments |
|------------|-----------|-------------------------------------------------------------------|---------------------|
| MEDICATION_CODE | | RxNorm RxCUI | Map drugs to RxNorm’s Semantic Clinical Drug (SCD), Semantic Branded Drug (SBD), Generic Pack (GPCK), or Branded Pack (BPCK) form. These concepts contain drug name, strength, form, and route of administration. See below for content. |
| MEDICATION_TYPE | | “Products by VA Class” classification from the National Drug File - Reference Terminology (NDF-RT). | Medication classification system is NDF-RT and the medication coding system is RxNORM. The deepest level in the classification is RxNorm’s Semantic Clinical Drug (SCD) form, which contains name, form, and route of administration. |
| MEDICATION_CODING_SYSTEM_VERSION | | Example: RxNorm 01-Dec-2014;17-Dec-2014 | Medication classification system and medication coding system version. |
| ORDER_DATE | Date-time field | YYYY-MM-DD HH:MM:SS | Order date and time. If times don’t exist in the source data, set HH:MM:SS to 00:00:00. |
| ORDER_TYPE | TEXT(2) | ID=Inpatient Dispensed<br/>AP=Ambulatory Prescribed<br/>NI=No information | Location where medication was ordered. |

#### Medication hierarchy (all medications in all classes below are included)
* Antidotes, deterrents and poison control…
* Antihistamines…
* Antimicrobials…
* Antineoplastics…
* Antiparasitics…
* Antiseptics/disinfectants…
* Autonomic medications…
* Blood products/modifiers/volume expanders…
* Central nervous system medications…
* Cardiovascular medications…
* Dermatological agents…
* Diagnostic agents…
* Gastrointestinal medications…
* Genitourinary medications…
* Herbs/alternative therapies…
* Hormones/synthetics/modifiers…
* Immunological agents…
* Investigational agents…
* Intrapleural medications…
* Irrigation/dialysis solutions…
* Musculoskeletal medications…
* Nasal and throat agents, topical…
* Ophthalmic agents…
* Dental and oral agents, topical…
* Otic agents…
* Pharmaceutical aids/reagents…
* Respiratory tract medications…
* Rectal, local…
* Therapeutic nutrients/minerals/electrolytes…
* Vitamins…
* Miscellaneous agents…

### Laboratory tests
| Field name | Data type | Predefined value sets and descriptive text for categorical fields | Definition/comments |
|------------|-----------|-------------------------------------------------------------------|---------------------|
